# 我的macOS配置清单

> 为了方便重新配置更新mac，将我电脑中的软件和工具做个总结，并附带一些软件的配置

![Screen shot](https://github.com/xinni/macOS-setup/blob/master/Pictrues/screenshot.png)

## 应用篇

### 效率应用

#### [Alfred](https://www.alfredapp.com)

- Mac上的效率神器，我每天都在使用，快捷键修改为option + space，并关闭spotlight
- Alfred中很多功能可以替代许多单独应用，智能剪切板（可以保存复制的内容，避免重复操作），常用短语扩展等
- Workflow可以用来扩展更多功能 //TODO: workflow list

![Alfred workflows](https://github.com/xinni/macOS-setup/blob/master/Pictrues/Alfred%20workflows.png)

#### [Popclip](https://pilotmoon.com/popclip/)

- 节省一些复制粘贴的时间，简化操作步骤
- 通过一些方法可以进行无限试用

#### [Dash](https://kapeli.com/dash)

- API查询，配合Alfred和popclip使用速度更快

![Dash with Alfred](https://github.com/xinni/macOS-setup/blob/master/Pictrues/Dash%20with%20Alfred.png)

#### [Thing 3](https://culturedcode.com/things/)

- 正在使用的GTD软件，相较于OmniFocus更轻量级，足以满足我的日常需要
- 可通过一定方法无限试用

### 文本编辑

#### [Bear](https://bear.app)

- 轻量记录一些笔记，支持Markdown语言，并能像word一样编辑文本样式，不必记住所有markdown的语法，容易上手。
- 曾经订阅过Ulysses，感觉对我来说过于正式，感觉Ulysses更适合用于写小说等大段文字输出。

#### [Sublime Text](https://www.sublimetext.com)

- 我的主要文本编辑软件，相较于Atom来说，打开文件的速度让人惊艳，一个5M左右的log文件也能做到秒开，所以果断从atom转投sublime
- 缺点是中英文混合输入有一点小bug
- //TODO: addons lists and theme

#### [Atom](https://atom.io)

- 转投sublime之后只是偶尔用来编辑一下Markdown文件，加上实时预览的插件比较好用。
- 打开文件的速度是个硬伤
- //TODO: addons lists

#### VScode





#### [Typora](https://typora.io)

- 专门用来编辑Markdown
- 代码块的语法高亮非常不错
- 所有md文件的编辑都转到这个软件上了，实时显示效果，所见即所得，非常方便，用来编辑GitHub的README文件非常不错

### 娱乐应用

#### [IINA](https://lhc70000.github.io/iina/zh-cn/)

- 用过的Mac播放器不多，但是这一款完全能满足我的各种需求了

#### [OpenEmu](http://openemu.org)

- 继承了各种模拟器，用来玩一玩怀旧小游戏还是不错的

![OpenEmu](https://github.com/xinni/macOS-setup/blob/master/Pictrues/OpenEmu.png)

### 开发应用

#### [IntelliJ IDEA](https://www.jetbrains.com/idea/)

- 从eclipse转过来，感觉还不错，也没用到什么高端功能，但颜值就是王道
- 如果是学生的话是可以免费使用的

#### [EAGLE PCB](https://www.autodesk.com/products/eagle/overview)

- 一个免费的支持Mac的PCB设计软件，好多的开源项目都是用EAGLE设计的
- 偶尔做一些硬件的设计足够了
- 程不够丰富，可能要多多自己摸索

#### [Arduino](https://www.arduino.cc/en/Main/Software)

- 官方的Arduino开发程序，与其他平台没什么区别
- 需要注意的是如果使用的是中国生产的廉价版Arduino板子，可能在连接Mac的时候要安装一些驱动程序才能识别

#### Eclipse

- 放在这里完全是因为有一个项目是在eclipse平台开发的，如果换平台会产生兼容性的问题

#### Matlab

- 没什么好说的，科研狗必备，一般学校网站都会有学校版的license

#### [Fiji](https://fiji.sc)

- 图像处理用的软件，因为ImageJ不太适用于当前mac版本，所以找到的这个，基于ImageJ开发，基本功能都是一样的


### 工具类应用

#### Reeder

- 免费时入的，可以避免看一堆没用的东西，最快速的浏览资讯和文章

#### [FileZilla](https://filezilla-project.org)

- 支持全平台，很好用的文件传输软件
- 唯一的缺点就是总是在更新

#### MoneyWiz 2

- 记账软件
- 从中国区购买有一定优惠

#### [Mos](https://mos.caldis.me)

- 如果使用鼠标的话安装这个软件让鼠标更好用
- 可以反转鼠标滚轮，设置触控板和鼠标都是习惯的操作
- 可以平滑鼠标滚轮的滚动，因为Mac的设置里有滑动惯性

#### Magnet

- App Store 直接购入
- 分屏软件，比较便宜就入了
- 原生的分屏实在不方便

#### [Etcher](https://pdfexpert.com)

- 磁盘写入软件，当时是给Raspberry Pi写入系统

#### [Flox](https://mac.eltima.com/download-manager.html)

- 轻量级下载工具，我没有升级为pro版，只是偶尔下一些磁力链接

#### [CheatSheet](https://www.mediaatelier.com/CheatSheet/)

- 长按command键可以呼出一个快捷键的cheatsheet，然而并不常用

#### Dr. Cleaner

- 偶尔用来清除一下缓存
- 最近有爆出这个公司窃取用户信息，已经在app store下架

#### [Teamviewer](https://www.teamviewer.us)

- 远程屏幕

#### [Wireshark](https://www.wireshark.org)

- 著名的网络分析软件

#### Spark

- 原生的邮件软件看上去比较凌乱，就使用了spark，并没有用什么高级功能，单纯的查收邮件

#### [PDF Expert](https://pdfexpert.com)

- 从Adobe转入这个，相较于Adobe来说更加轻量，打开文件速度更快
- 可从中国官网购买，比美国官网的教育优惠还便宜，并且可用于授权3台Mac

#### The unarchiver

- 解压缩软件

#### [Soundflower](https://github.com/mattingalls/Soundflower/releases/)

- 用于录屏时的声音处理
- 只有轻度的录屏需求，于是采用quick time和sound flower的方案，能良好的录制电脑的声音
- 后期处理采用iMoive

#### [PlistEdit Pro](https://www.fatcatsoftware.com/plisteditpro/)

- 用于编辑plist文件，修改偏好设置，延长试用

#### [Bartender 3](https://www.macbartender.com)

- 软件多了之后Menu Bar难免会变得凌乱，可以用这个软件隐藏处于Menu Bar里的东西
- 还有一个替代软件vinilla？？
- 可以进行无限试用

#### [Karabiner Elements](https://pqrs.org/osx/karabiner/)

- 可以修改键盘的键位，使之更符合个人的使用习惯
- 改善用输入法输入是无法用组合键移动光标的问题。（见下文改变键位设置）



## 各种设置

### 系统设置

#### .DS_Store文件处理（不知道还是否有效）

- 禁止DS_Store文件生成 

  `defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE`

- 恢复DS_Stroe文件生成

  `defaults delete com.apple.desktopservices DSDontWriteNetworkStores`



#### 设置菜单栏，dock为深色模式

- MacOS Mojave中支持了深色模式，但在白天长时间使用后，过高的对比度可能会引发视觉疲劳。另外应用未适配、网页没有深色模式等都会造成窗口视觉效果不统一等等问题。而且在加入深色主题后，系统偏好设置中原有的「使用深色菜单栏和程序坞」功能就被替换掉了。

- 方法为

  1. 在「系统偏好设置 - 通用」中将外观切换成「浅色」。
  2. 打开终端，输入指令：`defaults write -g NSRequiresAquaSystemAppearance -bool Yes`
  3. 注销并重新登录。这一步会关闭当前所有打开的应用，因此需要提前保存好所有文稿。
  4. 在「系统偏好设置 - 通用」中将外观切换成「深色」。

  此时你就能看到菜单栏和程序坞变成了深色模式，但是其他内容仍旧保持浅色模式。

- 如果你想要恢复成默认的深色模式，那么在终端中输入 `defaults write -g NSRequiresAquaSystemAppearance -bool No`，再执行第 3 步即可。



#### 改变键位设置（Karabiner Elements）

为了改善使用输入法时用组合键移动光标退出输入法的问题。用 Karabiner Elements 软件进行一些设置。（详情见中文输入法改键位）



1. 在 ` ~/.config/karabiner/assets/complex_modifications` 路径下新建一个 json 文件，名字可以随便起，后缀名是 json ， 然后复制我下面的代码进去，保存退出。（用文本编辑器进行编辑，如Atom，Sublime Text，VS code 等 ）
2. 在 Karabiner Elements 的 Preferences 里选择 Complex Modifications ，然后点击 Add rule ，Enable 这个规则就好了。



```json
{
  "title": "For Input Sources Emacs control",
  "rules": [
    {
      "description": "Use Control + h/d as Backspace/Delete, and Control + p/n/b/f as arrow key for nonEnglish input",
      "manipulators": [
        {
          "type": "basic",
          "from": {
            "key_code": "h",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "delete_or_backspace"
            }
          ]
        }, {
          "type": "basic",
          "from": {
            "key_code": "p",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "up_arrow"
            }
          ]
        }, {
          "type": "basic",
          "from": {
            "key_code": "n",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "down_arrow"
            }
          ]
        }, {
          "type": "basic",
          "from": {
            "key_code": "f",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "right_arrow"
            }
          ]
        }, {
          "type": "basic",
          "from": {
            "key_code": "b",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "left_arrow"
            }
          ]
        }, {
          "type": "basic",
          "from": {
            "key_code": "d",
            "modifiers": {
              "mandatory": [
                "control"
              ]
            }
          },
          "to": [
            {
              "key_code": "delete_forward"
            }
          ]
        }
      ]
    }
  ]
}
```



### 配置

#### Homebrew配置

- Homebrew的安装请参照[官网](https://brew.sh)的命令。

  Homebrew的更新请参阅以下

- `brew update` 更新homebrew，建议时常运行一下此命令，保持homebrew为最新。

- `brew outdated` 查看homebrew中过期的包，仅查看，不执行任何操作。

- `brew upgrade` 更新homebrew中过期的包。

- `brew upgrade $FORMULA` 更新固定的包，其余不变

- `brew cleanup -n` 查看可以清理内容的列表以及可以释放的空间

- `brew cleanup` 清理掉过期的包以及安装程序

- `brew pin $FORMULA` 锁定一个包，忽略这个包的所有更新

- `brew unpin $FORMULA` 解锁一个包，使其恢复更新检查

- `brew info` 检查当前的包数量，文件数量，及占用空间的大小

- `brew doctor` 检查homebrew是否完善

- `brew deps --installed --tree` 查看已安装包的依存关系

#### OpenCV配置

- macOS下安装OpenCV最简单的方法是安装Homebrew。

- 安装Homebrew以后，先检查是否已经安装最新的XCode Command Line Tools，打开Terminal（终端）应用输入`xcode-select --install`，macOS会自动进行安装，如果已经安装则继续进行下一步。

- 先确定是否已安装Apche Ant，Ant应该在`/usr/local/bin/ant`当中，如果没有安装在Terminal中执行` brew install ant`。

- 用`brew edit opencv`

  找到文件中

   `-BUILD_opencv_java=OFF`

  将其改写为

   `-BUILD_opencv_java=ON`

  然后重新安装opencv

   `brew install --build-from-source opencv` 

- ` /usr/local/Cellar/opencv/3.x.x/share/OpenCV/java/` 

  ` /usr/local/Cellar/opencv/3.x.x/share/OpenCV/java/`

- 需要注意如果原本已经安装过opencv此方法可能失效，所以先需要删除原本安装的版本，然后再进行安装步骤

  `brew uninstall opencv` 

#### Oh-my-zsh配置

- Oh My ZSH的安装参照[官网](https://ohmyz.sh)，有两种方法可以安装，curl和wget，如果不可使用命令就先用homebrew安装，如`brew install wget`

  1. 安装完成后用命令`chsh -s /usr/local/bin/zsh` 修改默认shell为zsh

  2. 修改zsh的主题，终端中运行`nano .zshrc` 找到ZSH_THEME="robbyrussell"，修改为自己想要的主题，我用的是ys主题

  3. 设置自己的alias

     ```shell
     alias zshconfig="subl ~/.zshrc"  #用于打开.zshrc文件进行修改
     alias ohmyzsh="open ~/.oh-my-zsh"
     alias subl=\''/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl'\'
     alias clc=clear
     ```

  4. 添加autojump

- 配置[zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting)，用oh-my-zsh的安装方式

- 配置[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)，用oh-my-zsh方式安装

- 更新oh-my-zsh使用`upgrade_oh_my_zsh`命令

- 改变字体为[Roboto Mono](https://fonts.google.com/specimen/Roboto+Mono)，profile 为 pro

- 设置 git 支持中文

```shell
git config --global core.quotepath false
```



## 周边篇

### 外接显示器

#### 关于HUB

- 选购外接显示器的时候发现了一些问题，在现有的HUB下，HDMI接口一般只能支持到4K 30Hz（测试的自用的Hootoo），查资料发现基本所有的HUB都只能支持到4K 30Hz，然而实际使用来看30Hz的刷新频率实在是有些不适，于是购入一条 type-c 转 DP 的线，用这条线外接显示器可以达到4K 60Hz。

#### 关于显示器

- 选择显示器需2K以上分辨率才能达到良好的显示效果

#### 清洁产品

- Whoosh是苹果店中使用的用于清洁屏幕的产品

#### 外接键盘

- 选购了HHBK pro2的键盘，上手待续